# Firebase Environment Setup

## Development Environment

### Local Development (with emulator)
Set these environment variables:

**Backend (.env):**
```bash
NODE_ENV=development
USE_FIREBASE_EMULATOR=true
# All other Firebase service account variables...
```

**Frontend (.env):**
```bash
VITE_USE_FIREBASE_EMULATOR=true
# All other Firebase config variables...
```

### Local Development (without emulator - production Firebase)
Set these environment variables:

**Backend (.env):**
```bash
NODE_ENV=development
USE_FIREBASE_EMULATOR=false
# All other Firebase service account variables...
```

**Frontend (.env):**
```bash
VITE_USE_FIREBASE_EMULATOR=false
# All other Firebase config variables...
```

## Production Environment

### Railway/Deployment Platform
Set these environment variables:

**Backend:**
```bash
NODE_ENV=production
USE_FIREBASE_EMULATOR=false
# All Firebase service account variables...
```

**Frontend:**
```bash
VITE_USE_FIREBASE_EMULATOR=false
# All Firebase config variables...
```

## Important Notes

1. **Token Compatibility**: Tokens generated by the emulator are NOT valid for production Firebase and vice versa
2. **Environment Consistency**: Both frontend and backend must use the same Firebase environment (emulator OR production)
3. **Service Account**: The backend always needs the Firebase service account credentials, even when using the emulator
4. **Project ID**: Ensure the project ID matches between frontend and backend configurations

## Testing

Use the test endpoint to verify Firebase configuration:
- Development: `http://localhost:5000/api/accounts/test-firebase`
- Production: `https://your-domain.com/api/accounts/test-firebase` 
